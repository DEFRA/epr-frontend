{% extends 'layouts/page.njk' %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl">{{ localise('summary-log:checkHeading') }}</h1>

    <p class="govuk-body">{{ localise('summary-log:checkIntro') }}</p>
    <p class="govuk-body">{{ localise('summary-log:checkIntro2') }}</p>

    {% set addedValid = loadCounts.added.valid if loadCounts and loadCounts.added else 0 %}
    {% set addedInvalid = loadCounts.added.invalid if loadCounts and loadCounts.added else 0 %}
    {% set adjustedTotal = (loadCounts.adjusted.valid + loadCounts.adjusted.invalid) if loadCounts and loadCounts.adjusted else 0 %}

    <h2 class="govuk-heading-l">{{ localise('summary-log:wasteBalanceHeading') }}</h2>

    <h3 class="govuk-heading-m">{{ localise('summary-log:loadsAdded', { count: addedValid }) }}</h3>
    <p class="govuk-body">{{ localise('summary-log:loadsAddedExplanation') }}</p>

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

    <h3 class="govuk-heading-m">{{ localise('summary-log:loadsNotAdded', { count: addedInvalid }) }}</h3>
    <p class="govuk-body">{{ localise('summary-log:loadsNotAddedExplanation') }}</p>

    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">

    <h3 class="govuk-heading-m">{{ localise('summary-log:loadsAdjusted', { count: adjustedTotal }) }}</h3>
    <p class="govuk-body">{{ localise('summary-log:loadsAdjustedExplanation') }}</p>
    <p class="govuk-body">{{ localise('summary-log:loadsAdjustedUpdate') }}</p>

    <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">

    <h2 class="govuk-heading-l">{{ localise('summary-log:complianceHeading') }}</h2>
    <h3 class="govuk-heading-s">{{ localise('summary-log:complianceSubheading') }}</h3>
    <p class="govuk-body">{{ localise('summary-log:complianceBody') }}</p>

    <h2 class="govuk-heading-m">{{ localise('summary-log:declarationHeading') }}</h2>
    <p class="govuk-body">{{ localise('summary-log:declarationIntro') }}</p>
    <ul class="govuk-list govuk-list--bullet">
      <li>{{ localise('summary-log:declarationBullet1') }}</li>
      <li>{{ localise('summary-log:declarationBullet2') }}</li>
    </ul>

    <form method="POST" action="/organisations/{{ organisationId }}/registrations/{{ registrationId }}/summary-logs/{{ summaryLogId }}/submit">
      <button type="submit" class="govuk-button" data-module="govuk-button">
        {{ localise('summary-log:confirmButton') }}
      </button>
    </form>

    <p class="govuk-body">
      <a href="/organisations/{{ organisationId }}/registrations/{{ registrationId }}/summary-logs/upload" class="govuk-link">{{ localise('summary-log:reuploadButton') }}</a>
    </p>
  </div>
</div>
{% endblock %}
