{% extends 'layouts/page.njk' %}
{% from "govuk/components/accordion/macro.njk" import govukAccordion %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
{% from "summary-log-upload/macro.njk" import summaryLogUpload %}

{% block beforeContent %}
  {{ govukBackLink({
    text: localise("common:back"),
    href: backUrl
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <div class="govuk-body" data-testid="app-page-body">
        <span class="govuk-caption-xl">{{ siteName }}</span>
        <h1 class="govuk-heading-xl">{{ heading }}</h1>

        <p>{{ localise("summary-log-upload:checkStepsIntro1") }}</p>
        <p>{{ localise("summary-log-upload:checkStepsIntro2") }}</p>

        {{ govukAccordion({
          id: "summary-log-upload-guidance",
          showSectionText: localise("summary-log-upload:accordionWhyNeeded"),
          classes: ['text-wrap-pretty'],
          items: [
            {
              heading: {
                text: localise("summary-log-upload:accordionSection1Heading")
              },
              content: {
                text: localise("summary-log-upload:accordionSection1Text")
              }
            },
            {
              heading: {
                text: localise("summary-log-upload:accordionSection2Heading")
              },
              content: {
                html: '
                  <div>
                    <p>' ~ localise("summary-log-upload:accordionSection2Intro") ~ '</p>
                    <ul class="govuk-list govuk-list--bullet">
                      <li>' ~ localise("summary-log-upload:accordionSection2Bullet1") ~ '</li>
                      <li>' ~ localise("summary-log-upload:accordionSection2Bullet2") ~ '</li>
                    </ul>
                  </div>'
              }
            },
            {
              heading: {
                text: localise("summary-log-upload:accordionSection3Heading")
              },
              content: {
                html: '
                  <p>' ~ localise("summary-log-upload:accordionSection3Paragraph1") ~ '</p>
                  <p>' ~ localise("summary-log-upload:accordionSection3Paragraph2") ~ '</p>
                  <p>' ~ localise("summary-log-upload:accordionSection3Paragraph3") ~ '</p>'
              }
            },
            {
              heading: {
                text: localise("summary-log-upload:accordionSection4Heading")
              },
              content: {
                text: localise("summary-log-upload:accordionSection4Text")
              }
            }
          ]
        }) }}

        {{ govukInsetText({
          text: localise("summary-log-upload:insetText")
        }) }}

        {{ summaryLogUpload({
          uploadUrl: uploadUrl,
          successUrl: successUrl,
          errorUrl: errorUrl,
          fileUploadLabel: localise("summary-log-upload:fileUploadLabel"),
          buttonText: localise("summary-log-upload:continueButton")
        }) }}
      </div>
    </div>
  </div>
{% endblock %}
