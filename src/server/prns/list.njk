{% extends 'layouts/page.njk' %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/tabs/macro.njk" import govukTabs %}

{% block beforeContent %}
  {{ govukBackLink({
    text: localise("common:back"),
    href: backUrl
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

      <div class="epr-heading-with-action">
        <h1 class="govuk-heading-xl govuk-!-margin-bottom-0">{{ heading }}</h1>
        {{ govukButton({
          text: createLink.text,
          href: createLink.href,
          classes: "govuk-button--secondary"
        }) }}
      </div>

      <div class="govuk-summary-card epr-waste-balance-banner govuk-!-margin-bottom-6">
        <div class="govuk-summary-card__title-wrapper govuk-!-padding-6">
          <div>
            <h2 class="govuk-summary-card__title" data-testid="waste-balance-amount">
              {{ wasteBalance.amount | formatTonnage }} {{ localise("registrations:wasteBalance.units") }}
            </h2>
            <p class="govuk-body-l govuk-!-margin-bottom-0 govuk-!-font-weight-bold">
              {{ wasteBalance.label }}
            </p>
          </div>
        </div>
        <div class="govuk-summary-card__content govuk-!-padding-4">
          <p class="govuk-body govuk-!-margin-bottom-0">
            {{ wasteBalance.hint }}
          </p>
        </div>
      </div>

      {{ govukTabs({
        items: [
          {
            label: tabs.awaitingAction,
            id: "awaiting-action",
            panel: {
              html: awaitingActionPanel
            }
          },
          {
            label: tabs.issued,
            id: "issued",
            panel: {
              html: issuedPanel
            }
          }
        ]
      }) }}

    </div>
  </div>
{% endblock %}
